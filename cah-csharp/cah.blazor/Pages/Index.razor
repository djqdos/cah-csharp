@page "/"

@inject NavigationManager NavigationManager
@inject Blazored.LocalStorage.ILocalStorageService localStorage


<div class="layout">
	<header>
		<img src="img/iconB.png" alt="Cards against Humanity" />		
	</header>

	<main>
		<div class="container">

			<div id="game" class="center-grid">

			</div>
		</div>
	</main>
</div>


@code {
	protected override async Task OnAfterRenderAsync(bool firstRender)
	{
		var usernameCookie = await localStorage.GetItemAsStringAsync("usernameCookie");

		if (usernameCookie == null || string.IsNullOrWhiteSpace(usernameCookie))
		{
			NavigationManager.NavigateTo("/join");
		}

		NavigationManager.NavigateTo("/game");
	}
}
