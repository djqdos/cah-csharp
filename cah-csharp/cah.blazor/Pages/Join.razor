@page "/join"
@inject NavigationManager NavigationManager
@inject Blazored.LocalStorage.ILocalStorageService localStorage


<div class="center-grid" id="join-page">
    <div>
        <input type="text" @bind="userName" placeholder="Name" required />

        <input type="submit" value="Join" @onclick="CreateCookie" />
    </div>
</div>

@code {
    private string userName;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {

    }

    private async Task CreateCookie()
    {
        if (!string.IsNullOrWhiteSpace(userName))
        {
            await localStorage.SetItemAsStringAsync("usernameCookie", userName);

            NavigationManager.NavigateTo("/game");
        }
    }
}
